<template>
    <svg
        xmlns="http://www.w3.org/2000/svg"
        :width="mapWidth"
        :height="mapHeight"
        viewBox="0 0 76 105.9"
        class="vs-caption-image-map"
        data-test="vs-caption-image-map"
    >
        <path
            data-test="vs-caption-image-map__first-path"
            d="M65.9965,9.0973l-.167.736.668.184Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M64.6595,9.4653l-.668,2.391,
            1.169.368-.334-1.287C64.8265,
            10.2013,65.1605,10.2013,64.6595,9.4653Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M66.1635,11.4883l1.336.184-.336-.736Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M62.1546,11.3043l-1.5,1.1c.5.92.8349.736,
            1.837.736l-.3341.368h-.173a1.6911,1.6911,0,0,0,1.336.92c-.668,
            1.287-1.67,1.1-2.8389,1.655v.368c1.67.736,1.336,1.1,2.506-.184,
            1.169,2.391-.5,2.759.668,4.966h.334l.334-1.471v-1.837l.5-1.1-.835-1.655a3.6491,
            3.6491,0,0,0,.835-1.839c-.668.368-.668.368-1.336,0C62.3215,
            12.7753,62.8235,12.2243,62.1546,11.3043Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M65.9965,13.8793l-.668,1.287,1.169-.368Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M49.46,30.2483l1,.736C50.96,30.2483,50.2945,29.5123,49.46,30.2483Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M52.8005,31.1643l1.67-.552-.17-.548C53.1345,30.2483,52.9675,29.88,52.8005,31.1643Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M51.2975,30.9843l.167,1.655,1.169-1.287Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M48.6245,31.72c.1671,1.655-1,.552-1.5.92s-.334,
            1.655-.167,2.207l1.336-.184c.167.92.5.552,1.169.736l.835.368a1.5181,1.5181,0,0,0,
            1.8371-.736l-2.172.184.167-.736-1.3421-.184v-.363l.668-.368-.668-.552c.668-.552,
            1-.368,1.5-1.287A2.6,2.6,0,0,0,48.6245,31.72Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M50.4625,33.1913l.334.92.835-.92-.169-.184Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M46.6205,36.1343c0,.184.167.552.167.736.167.184.167.368.334.368,
            1.169.92,1.336-1.287.167-1.287C46.9545,35.95,46.7875,35.95,46.6205,36.1343Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M49.6265,37.0533l-.334.92,1,.552.334-1.471Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M46.12,39.6283c-1,1.287-1.5.736-2.505.92-.334.184-.668.552-1,
            .552-.5.184-1.5-.184-2-.184a14.9016,14.9016,0,0,
            0-3.007,1.1l.167.736-1.343-1.469a1.64,1.64,0,0,1-1.5,
            1.287l.5-1.655-1.169.368-.668-1.1-1.336,1.1v.552c.5.368.668.368.334.92l.334,
            1.1-1.169-.184,1.5,2.207-1.837-.184h-1.5c.668,1.839.835.92-.167,
            2.759l-.5-.736c-.167.736.334,1.1.835,1.471a26.8342,26.8342,0,0,1,2.171,
            2.207c-1.67,0-1.169-.736-2-1.1-.668-.368-1.5.184-2.171.552l-.835-.92.167,
            1.839c-.668-.552-2-1.1-1.5.552,1,0,1,.736-.167,1.1l1.169,1.1,1,
            1.287c-1.67.184-1.5-.92-3.174-.368a3.4256,3.4256,0,0,1,.668,2.207c1.336,
            0,1.837-.7359,2.673.552h-2.515c.5.736.835.5521,1.5.736l1,
            .736c-.668.368-.668.368-1.336.184l.167,1.287.668-.184c0,1.655-.334,
            1.1-1.169,1.1l-1.169.184c.835,1.655,1.169.368,2.339,1.471a3.9245,3.9245,0,0,
            1-2.506-.184c0,.552-.167,1.288.167,1.655l-.835.184v.92c-1.837-.552-1.67,
            0-3.174.552,2.171,1.471,3.174-.552,5.178.368-1.5,1.471-.835-.184-3.341,
            1.287.835.92,2.339.552,3.341.552.668-1.471,2-1.1,
            2.506-2.023.334-.7359-.334-1.839.668-2.207.668-.368,1.169.552,1,
            1.1a1.1582,1.1582,0,0,1-1,.552,3.54,3.54,0,0,0,2.673.7359l-1.5,
            1.287-1.837.552-.334,1.655.668.1841,1.336-1.287c-.167.92-.5,
            2.207-1.5,2.207-.668,0-1.5-.92-2.171,0-1,.92-.167,2.207-.5,
            3.6779l.5.1841-.334.92c1.67.552,2.171-1.1,3.174-2.2071a6.619,
            6.619,0,0,1,1.5-.92c.334,1.4709-.668,1.839-1.67,2.207,0,1.287-.835.7359-1,
            2.5749a3.8062,3.8062,0,0,1,1.67,1.655l.668-.552.5-3.862h.835l-.167,2.207,
            1.837.552c1.336.1841,1.169,0,2.339,1.1-1.169.184-1.67-.1841-2.84-.368a.9569.9569,
            0,0,0-1.169.184c-.5.368-.167,1.1-.334,1.655l-.167,1.287c1,.736,2.673,2.023,
            1.837,3.678a8.1472,8.1472,0,0,1-1.169,1.287c-.334.552,0,1.1-.5,
            1.839-.334.552-1,.736-1.5,1.471-.5,1.1,0,1.655-.167,2.207,0,.368-.334.736-.5,
            1.1-.167-.368-.668-1.471-1-1.471-.5-.184-1.169.736-.835,1.471s1.169.736,1.67,
            1.1c.668.92.167,1.839,1.5,2.391.167-1.287-.668-2.207.167-2.759,1.169-.552,
            2.84,1.839,3.341,2.023,1.5.552,1.336-.736.835-1.655a4.7548,4.7548,0,0,
            1-.668-1.287c.334-.184.668-.368,1-.184.668.368.167,1.1,
            1.336.736.167.368.167.552.5.7359a2.5229,2.5229,0,0,0,2,.368c.334,0,
            .668-.552,1.169-.7359s1.336.184,1.67-.552c.5-.5521.167-1.8391,0-2.575,
            1.5.7359,1.5.368,2.673.552.668.184,1.67.552,2.338.184.5-.184.5-.552,
            1.336-1.287,2.171-1.655,4.51-3.862,7.015-4.6-.334-1.287-.835-1.287-1-2.023-.334-1.1,
            1-2.207,1.837-2.575l-1-2.391-2.672-.92-2-1.1-1.5.3679c0,.552,0,
            .92-.5,1.287-1.5.92-3.007-.7359-4.176-.92-.668,0-2.171.552-2.673-.368-.334-.368,
            0-.736.334-.92.668-.368,1.336,0,2,.184l1.837.184.167-.552.835.368a2.3569,
            2.3569,0,0,1,1.5-2.207c.334,0,.835.368,1.336.184l1.837-.736v-.368a5.49,
            5.49,0,0,0-2.84-1.1l.334-.736-.668-.184c-.835,1.1-1.336.736-2.506,
            1.1-.334,0-1,.184-1.336,0-.167-.184-.167-.368-.334-.736,2.171.368,
            2.171-.92,3.508-1.287.668-.368,1,0,1.837,0a3.77,3.77,0,0,0,3.341-2.207,
            5.2019,5.2019,0,0,1-1-.736c-.334-1.1,1.336-1.1,
            1.5-1.287.334-.184.668-.92.835-1.1.334-.552,1.169-1.471,
            1.336-1.839l.835-2.943.835-.92.668-1.839c.334-.552.668-.368,
            1.169-1.471-1.336-1.288-.835-2.575-2-2.943s-2.505.736-4.176
            .92-2.673-.92-3.341-.92l-1.837.368-2.338-.552c-1,
            0-3.174,1.287-4.176,1.655l-1.169.552c-.334.184-.835.92-1.5,
            1.471-.5.184-2.338.736-2.673.184-.334-.184-.167-.552,0-.736.5-.368,1,0,
            1.5,0a8.5374,8.5374,0,0,0,2.171-2.207c-1.5-.552-1.336.736-3.007,
            1.1l.5-1.839c1.67.184,1.336-.368,2.506-.552a4.4993,4.4993,0,0,1,1.5.368c0-1.471.5-.92,
            1.169-2.207l-1.837.736c-1-.368-2.338.184-3.007-1.1h2.673l-.668-1.287a8.2712,
            8.2712,0,0,0,2.506-1.1,6.33,6.33,0,0,0,1.837-1.1l.835-1.1,1.336-1.1c.835-.736,
            2.171-1.2871,2-2.7591h.5c-.334-1.287-.668-1.287.167-2.0229l-1.67-.1841Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M17.2225,46.4343c-.5-1.1-.835-1.1-1.837-.736l.167.736c-1.169.736-.835,
            1.471.167,1.1l.334.92h-1l-.167.552a1.521,1.521,0,0,1,1.169,1.471l-1.339.555c.5.736,
            1.336,1.287,2,.552.334-.184.5-.92.835-1.1.167-.184.835,0,1.169,0a3.0538,
            3.0538,0,0,0-1.336-2.207l.835-.368a.8581.8581,0,0,0,.5.92c.835.736,1.67,0,
            2.506-.368-.334-1.287-1.336-1.1-2.338-1.1l2.673-.736c-.5-2.023.5-1.839,
            2-2.391l-.334-1.287c0-.368.334-1.1-.334-1.471-.5-.552-1.5.736-1.837,1.1-1.336,
            1.287-1.837.92-2.506,1.471S18.5585,45.1463,17.2225,46.4343Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M22.0665,45.33v.736c1-.368,1.5.184,2-.92Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M20.8965,52.8713l-1,.92.5,1.471c-1.5.184-1-.736-2.171-1.1l.334,
            2.759-1.5-.92c-.167,1.1.334,1.655,1.169,2.391l.5-.552c1.5-.552.668,2.575,
            1.67,2.943.835.552,1.169-1.1,2,.184.5-.184,1.5-.552,1.336.552-.167.368-.668.736-.835,
            1.1,1.336,0,1.336-.736,1.837-1.655l.668-.92a3.848,3.848,0,0,
            1-2.84-1.839l-.5-3.311A3.0591,3.0591,0,0,0,20.8965,52.8713Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M12.5415,54.1593c-.5-.736-.668-.552-1.336-.736l-.167.736c.167,0,
            .5.184.668.184,1.336.92,0,2.575-.167,3.678-.167.92.167,1.655-.334,
            3.311h1.169a22.2511,22.2511,0,0,1,.334-3.311c.167-1.287,0-1.839,
            1-2.759l-.167-1.1c.668-.184.835-.184,1.169-.92C13.38,53.0553,
            13.2125,52.8713,12.5415,54.1593Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M23.9035,55.8133c-.334.736-.5,1.1-1.169,1.287,0,2.023,1,
            1.471,1.169,1.1A11.4313,11.4313,0,0,0,23.9035,55.8133Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M10.5405,62.0673l-.835.736a4.3288,4.3288,0,0,
            1-.835,2.942l.167.184,1.333-2.023.5-1.1Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M19.8945,62.6193l-.334,1.1,1.837-.184Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M18.7255,67.5843c-1.169.92-1.837.92-2,2.207a5.2615,5.2615,0,0,
            0-2.84.92c.167.184.167.368.5.368.835.184,2.84-1.471,3.508-2.023C18.3915,
            68.6843,18.8925,68.32,18.7255,67.5843Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M21.3975,68.1363c-1,1.1-1.336.368-1.5,1.655.668.184.668.368,1,
            .92l1.336.184-1,.736,1.169.736-3.343.919c.167.184.167.368.334.552.5.184,
            1.5.368,1.837,0a1.5054,1.5054,0,0,0,.167-.736c1.67.552.835-.552,
            2.673-.184a1.6551,1.6551,0,0,1,1.67-.92c-.167-1.839-.835-1.287-1.837-2.023C23.0685,
            69.4233,23.2355,69.0563,21.3975,68.1363Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M22.4,80.4613c.5-1.1.668-1.1.167-2.207.334,0,.668.184,1,0,
            .668-.184,1.336-1.839,1.5-2.391-1.169,0-2.171,1.1-2.84,2.0231C21.7315,
            78.62,20.73,79.3563,22.4,80.4613Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M26.0755,76.4133c-.835,1.287-.334,1.287-.5,
            2.207-.334.92-.668.736-.835,2.207,1.169.184,1.169.184,2.171-.736-.167,
            1.471-3.174,2.943-1.837,4.966l-.334.3681v.1839c2.171-.368,2-2.575,
            2.506-3.4939.167-.736.835-.92.668-1.655,0-.552-.668-1.287-.835-1.839,
            0-.552.167-.92.167-1.471Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M20.5605,76.5973l-1,.736C20.0605,77.5173,20.73,77.3333,20.5605,76.5973Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M27.5785,78.9883c.668.92,2,2.391,3.174,2.207-.334-.552-.334-.92-1-1.1v-.736Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M18.7255,83.4023c.668-.1839.668-.1839.835-.92.167,0,
            .334.184.668,0,1.5,0,.835-1.287.5-2.207l-.333-1.103c-1.169.552-.668.92-1,
            2.023A6.64,6.64,0,0,0,18.7255,83.4023Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M18.8885,79.3553l-1.336,1.1.167.736-.835.92.167.184C18.2245,
            81.93,19.7285,81.01,18.8885,79.3553Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M28.2465,82.1143c-.668.92-.5,1.287-.5,2.391,0,.552,0,
            1.288.668,1.288C29.75,85.6083,29.2485,82.85,28.2465,82.1143Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <path
            d="M23.2355,88.1793c1.5-.92.5-.736,2.506-.92C24.5725,
            85.0573,23.0685,85.9793,23.2355,88.1793Z"
            transform="translate(-0.2662 -0.2662)"
            fill="none"
            :stroke="mapOutlineColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="0.5"
            fill-rule="evenodd"
        />
        <rect
            :width="mapWidth"
            :height="mapHeight"
            fill="none"
        />
        <circle
            r="4"
            data-test="vs-caption-image-map__marker"
            :fill="mapMarkerColor"
            :cx="positionX"
            :cy="positionY"
        />
    </svg>
</template>

<script>
/**
 * Displays within an image caption to show the location of the photo if
 * lat/long co-ordinates are available
 *
 * @displayName Caption Image Map
 */

export default {
    name: 'VsCaptionImageMap',
    status: 'prototype',
    release: '0.0.1',
    props: {
        /**
         * The image latitude
         */
        latitude: {
            type: String,
            default: '',
        },

        /**
         * The image longitude
         */
        longitude: {
            type: String,
            default: '',
        },
        mapOutlineColor: {
            type: String,
            default: '#191919',
        },
        mapMarkerColor: {
            type: String,
            default: '#191919',
        },
    },
    data() {
        return {
            cornerCoordinates: {
                NE: 61.3,
                NW: 54.4,
                SE: -9.1,
                SW: 0.4,
            },
            mapWidth: 75,
            mapHeight: 104,
        };
    },
    computed: {
        positionY() {
            const yCoord = Number(this.latitude);

            return Math.round(
                this.calculateAxisPosition(
                    this.cornerCoordinates.NE,
                    this.cornerCoordinates.NW,
                    yCoord,
                    this.mapHeight,
                ),
            );
        },
        positionX() {
            const xCoord = Number(this.longitude);

            return Math.round(
                this.calculateAxisPosition(
                    this.cornerCoordinates.SE,
                    this.cornerCoordinates.SW,
                    xCoord,
                    this.mapWidth,
                ),
            );
        },
    },
    methods: {
        calculateAxisPosition(scaleStart, scaleEnd, coord, axisLength) {
            return ((coord - scaleStart) * axisLength) / (scaleEnd - scaleStart);
        },
    },
};
</script>

<style lang="scss">
.vs-caption-image-map {
    width: 100%;
    height: 100%;
}
</style>

<docs>
  ```jsx
  <VsRow>
    <VsCol cols="6" sm="4" lg="3" v-for="(image, index) in hero.captionImageMapExamples">
      <div class="mb-3 p-3 text-center">
        <p>{{image.title}}</p>
          <VsCaptionImageMap
            :latitude="image.latitude"
            :longitude="image.longitude"
            map-outline-color="#191919"
            map-marker-color="#109DA3"
          >
          </VsCaptionImageMap>
      </div>
    </VsCol>
  </VsRow>
  ```
</docs>
